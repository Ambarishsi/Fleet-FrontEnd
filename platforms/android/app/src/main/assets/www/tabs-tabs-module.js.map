{"version":3,"sources":["./src/app/tabs/tabs.page.html","./src/app/tabs/tabs.page.ts","./src/app/tabs/tabs.page.scss","./src/services/profile/employee.service.ts","./src/app/tabs/tabs.module.ts","./src/app/tabs/tabs-routing.module.ts"],"names":[],"mappings":"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","file":"tabs-tabs-module.js","sourcesContent":["export default \"<ion-tabs>\\n\\n  <ion-tab-bar slot=\\\"bottom\\\">\\n    <ion-tab-button tab=\\\"tab1\\\">\\n      <ion-icon name=\\\"cog\\\"></ion-icon>\\n      <ion-label>Fleet</ion-label>\\n    </ion-tab-button>\\n\\n    <ion-tab-button tab=\\\"tab2\\\">\\n      <ion-icon name=\\\"car\\\"></ion-icon>\\n      <ion-label>Cab-Details</ion-label>\\n    </ion-tab-button>\\n\\n    <ion-tab-button tab=\\\"tab3\\\">\\n      <ion-icon name=\\\"calendar\\\"></ion-icon>\\n      <ion-label>Roster</ion-label>\\n    </ion-tab-button>\\n  </ion-tab-bar>\\n\\n</ion-tabs>\\n\";","/* eslint-disable radix */\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { PassdataprofileService } from '../../services/profile/passdataprofile.service';\r\nimport { EmployeeService } from '../../services/profile/employee.service';\r\n\r\n@Component({\r\n  selector: 'app-tabs',\r\n  templateUrl: 'tabs.page.html',\r\n  styleUrls: ['tabs.page.scss']\r\n})\r\nexport class TabsPage implements OnInit{\r\n\r\n  employeeName: string;\r\n  employeeId: string;\r\n  employeeData: any;\r\n  userId = '609100323a6c2c2ec62e6577';\r\n  currTime: string;\r\n  hours;\r\n  minutes;\r\n  strTime;\r\n\r\n  constructor(private router: Router,\r\n    private employeeService: EmployeeService,\r\n    private passdataprofileService: PassdataprofileService,\r\n    public toastController: ToastController) {\r\n    if (localStorage.getItem('UserData') === null || localStorage.getItem('UserData') === undefined ||\r\n        localStorage.getItem('UserData') === '') {\r\n      this.router.navigateByUrl('/login');\r\n    }else{\r\n      this.router.navigateByUrl('/tabs/tab2');\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.userInfo();\r\n\r\n   }\r\n\r\n  userInfo(){\r\n    this.employeeService.findById(this.userId).subscribe(resp => {\r\n      // console.log('Ambarish', resp);\r\n      if(resp.status === 200){\r\n        this.employeeData = resp;\r\n        this.employeeName = this.employeeData.data.firstName +' '+ this.employeeData.data.middleName +' '+ this.employeeData.data.lastName;\r\n        this.employeeId = this.employeeData.data.employeeId;\r\n        this.sendEmployeeData();\r\n      }else{\r\n        this.presentToast('error occured while getting userinfo from employee service');\r\n      }\r\n    }, err => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  sendEmployeeData(): void {\r\n    this.passdataprofileService.emit<any>(this.employeeData);\r\n\r\n    if(this.employeeData.data.isAutoDarkMode){\r\n      this.applyDarkMode();\r\n    }\r\n\r\n}\r\n\r\n\r\n     //message toast\r\n     async presentToast(errCode: string) {\r\n      const toast = await this.toastController.create({\r\n        message: errCode,\r\n        position: 'bottom',\r\n        duration: 2000,\r\n        animated: true,\r\n        translucent: true,\r\n        color: 'tertiary',\r\n        buttons: [\r\n           {\r\n            text: 'X',\r\n            role: 'cancel',\r\n            handler: () => {\r\n              console.log('Cancel clicked');\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      await toast.present();\r\n\r\n      const { role } = await toast.onDidDismiss();\r\n    }\r\n\r\n\r\n//logic for checking dark mode if user has enabled auto dark mode option\r\n\r\n    applyDarkMode(){\r\n      this.currTime = this.calculateCurrentTime(new Date()).toString();\r\n      if(this.currTime.includes('pm')){\r\n        if(parseInt(this.currTime.substring(0,2)) >= 6){\r\n          document.body.classList.toggle('dark');\r\n        }\r\n      }else if(this.currTime.includes('am')){\r\n\r\n        if(parseInt(this.currTime.substring(0,2)) === 12){\r\n          document.body.classList.toggle('dark');\r\n        }else if(parseInt(this.currTime.substring(0,2)) <=6){\r\n          document.body.classList.toggle('dark');\r\n        }\r\n\r\n      }else{\r\n        document.body.classList.toggle('light');\r\n      }\r\n    }\r\n\r\n    calculateCurrentTime(date){\r\n      this.hours = date.getHours();\r\n      this.minutes = date.getMinutes();\r\n      const ampm = this.hours >= 12 ? 'pm' : 'am';\r\n      this.hours = this.hours % 12;\r\n      this.hours = this.hours ? this.hours : 12;\r\n      this.minutes = this.minutes < 10 ? '0'+this.minutes : this.minutes;\r\n      this.strTime = this.hours + ':' + this.minutes + ' ' + ampm;\r\n      return this.strTime;\r\n    }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0YWJzLnBhZ2Uuc2NzcyJ9 */\";","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpHeaders, HttpResponse } from '@angular/common/http';\nimport { environment } from '../../environments/environment';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class EmployeeService {\n\n\n  httpOptions = {\n    headers: new HttpHeaders({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      'Content-Type': 'application/json; charset=utf-8'\n    })\n  };\n\n\n  employeeBaseUrl: string = environment.employeeURL;\n\n  constructor(private httpClient: HttpClient) { }\n\n  findById(data: any): Observable<HttpResponse<any>> {\n    return this.httpClient.get<any>(this.employeeBaseUrl+'/find/'+data, this.httpOptions);\n  }\n}\n","import { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { TabsPageRoutingModule } from './tabs-routing.module';\n\nimport { TabsPage } from './tabs.page';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    TabsPageRoutingModule\n  ],\n  declarations: [TabsPage]\n})\nexport class TabsPageModule {}\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { TabsPage } from './tabs.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'tabs',\r\n    component: TabsPage,\r\n    children: [\r\n      {\r\n        path: 'tab1',\r\n        loadChildren: () => import('../tab1/tab1.module').then(m => m.Tab1PageModule)\r\n      },\r\n      {\r\n        path: 'tab2',\r\n        loadChildren: () => import('../tab2/tab2.module').then(m => m.Tab2PageModule)\r\n      },\r\n      {\r\n        path: 'tab3',\r\n        loadChildren: () => import('../tab3/tab3.module').then(m => m.Tab3PageModule)\r\n      },\r\n      {\r\n        path: '',\r\n        redirectTo: '/tabs/tab2',\r\n        pathMatch: 'full'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '',\r\n    redirectTo: '/login',\r\n    pathMatch: 'full'\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n})\r\nexport class TabsPageRoutingModule {}\r\n"],"sourceRoot":"webpack:///"}